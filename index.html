<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/aframe@0.8.2/dist/aframe-master.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@latest/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@latest/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@latest/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@latest/dist/aframe-orbit-controls.min.js"></script>
    <script src="components/scene-changer-component.js"></script>
    <script src="components/camera-changer-component.js"></script>
  </head>
  <body>
    <a-scene stats>
      <a-assets>
        <a-asset-item id="gwanghwamun" src="https://linx.yunkyu.com/selif/ap2kybiw.gltf"></a-asset-item>
        <a-asset-item id="plate" src="https://linx.yunkyu.com/selif/d5hpcvw8.gltf"></a-asset-item>
        <a-asset-item id="jeongdojeon" src="https://linx.yunkyu.com/selif/ulurguax.gltf"></a-asset-item>
        <a-asset-item id="book" src="https://linx.yunkyu.com/selif/o7gbsbas.gltf"></a-asset-item>
        <a-asset-item id="japanbuilding" src="https://linx.yunkyu.com/selif/hrxhkjf2.gltf"></a-asset-item>
        <img id="background" src="https://linx.yunkyu.com/selif/bckgnd.jpg" />
        <img
          id="thumb-1"
          crossorigin="anonymous"
          src="https://linx.yunkyu.com/selif/ms7q2b0w.png"
        />
        <img
          id="thumb-2"
          crossorigin="anonymous"
          src="https://linx.yunkyu.com/selif/6s7hxgp6.png"
        />
        <img
          id="thumb-3"
          crossorigin="anonymous"
          src="https://linx.yunkyu.com/selif/89utcvfm.png"
        />
        <img
          id="thumb-home"
          crossorigin="anonymous"
          src="https://linx.yunkyu.com/selif/grw6nocw.png"
        />
        <img
          id="dirt"
          crossorigin="anonymous"
          src="https://linx.yunkyu.com/selif/au3qqvbf.png"
        />
        <script id="link" type="text/html">
            <a-entity
            scene-changer="from: ${from}; to: ${to}"
            geometry="primitive: plane; height: 1; width: 1"
            material="shader: flat; src: ${thumb}"
            event-set__1="_event: mousedown; scale: 1 1 1"
            event-set__2="_event: mouseup; scale: 1.1 1.1 1"
            event-set__3="_event: mouseenter; scale: 1.1 1.1 1"
            event-set__4="_event: mouseleave; scale: 1 1 1"
          ></a-entity>
        </script>
        <video id="chotbul" autoplay loop="true" src="../assets/chotbul.mp4"></video>
      </a-assets>

      <a-entity id="camera-look" visible="true" camera="active: true" look-controls="touchEnabled: true" position="0 1.5 0">
        <a-cursor>
          <a-animation
            begin="click"
            easing="ease-in"
            attribute="scale"
            fill="backwards"
            from="0.1 0.1 0.1"
            to="1 1 1"
            dur="150"
          ></a-animation>
          <a-animation
            begin="cursor-fusing"
            easing="ease-in"
            attribute="scale"
            from="1 1 1"
            to="0.1 0.1 0.1"
            dur="1500"
          ></a-animation>
        </a-cursor>
      </a-entity>

      <a-entity id="camera-orbit" visible="false" camera="active: false" orbit-controls="initialPosition: 0 1.5 0">
        <a-cursor>
          <a-animation
            begin="click"
            easing="ease-in"
            attribute="scale"
            fill="backwards"
            from="0.1 0.1 0.1"
            to="1 1 1"
            dur="150"
          ></a-animation>
          <a-animation
            begin="cursor-fusing"
            easing="ease-in"
            attribute="scale"
            from="1 1 1"
            to="0.1 0.1 0.1"
            dur="1500"
          ></a-animation>
        </a-cursor>
      </a-entity>
      <a-entity id="scene-joseon" visible="false">
        <a-sky color="#9bd1fd"></a-sky>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-1"
          data-from="joseon"
          data-to="joseonMuseum"
          rotation="330 0 0"
          position="0 0.866 -1.412"
        ></a-entity>
        <a-plane
          src="#dirt"
          position="0 0 -11"
          rotation="-90 0 0"
          width="50"
          height="200"
          repeat="20 80"
        ></a-plane>
        <a-gltf-model 
          position="19.47219 1.52765 -221.94797" 
          src="#gwanghwamun" 
          scale="0.9 0.9 0.9" 
          gltf-model="https://linx.yunkyu.com/selif/gwanghwamun.gltf" 
          visible="" 
          rotation="0 2 0">
        </a-gltf-model>
        <a-entity
        visible="false"
        template="src: #link"
        data-thumb="#thumb-home"
        data-from="joseon"
        data-to="menu"
        position="0 0.1 0"
        rotation="-90 0 0"
      ></a-entity>
      </a-entity>

      <a-entity id="scene-menu" visible="false">
        <a-sky
          id="image-360"
          src="#background"
          radius="150"
          phi-start="90"
        ></a-sky>

        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-1"
          data-from="menu"
          data-to="joseon"
          rotation="330 20 0"
          position="-1.2 0.866 -1.2"
        >
        </a-entity>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-2"
          data-from="menu"
          data-to="japan"
          rotation="330 0 0"
          position="0 0.866 -1.412"
        >
        </a-entity>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-3"
          data-from="menu"
          data-to="modern"
          rotation="330 -20 0"
          position="1.2 0.866 -1.2"
        >
        </a-entity>
      </a-entity>

      <a-entity id="scene-modern" visible="false">
        <!-- <a-sky
          id="image-360"
          src="#background"
          radius="150"
          phi-start="90"
        ></a-sky> -->
        <a-videosphere autoplay src="/assets/chotbul.mp4"></a-videosphere>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-home"
          data-from="modern"
          data-to="menu"
          position="0 0.1 0"
          rotation="-90 0 0"
        ></a-entity>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-3"
          data-from="modern"
          data-to="modernMuseum"
          rotation="330 0 0"
          position="0 0.866 -1.412"
        ></a-entity>
      </a-entity>
      <a-entity id="scene-japan" visible="false">
        <a-sky color="#b3c4d1"></a-sky>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-home"
          data-from="japan"
          data-to="menu"
          position="0 0.1 0"
          rotation="-90 0 0"
        ></a-entity>
        <a-plane
          src="#dirt"
          position="0 0 -11"
          rotation="-90 0 0"
          width="150"
          height="150"
          repeat="60 60"
        ></a-plane>
        <a-gltf-model 
          position="-14.5 0 -120" 
          src="#japanbuilding" 
          scale="0.9 0.9 0.9" 
          gltf-model="https://linx.yunkyu.com/selif/hrxhkjf2.gltf"
          visible="" 
          rotation="0 0 0">
        </a-gltf-model>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-2"
          data-from="japan"
          data-to="japanMuseum"
          rotation="330 0 0"
          position="0 0.866 -1.412"
        ></a-entity>
      </a-entity>

<a-entity id="scene-joseonMuseum" visible="false">
    <a-sky color="#9bd1fd"></a-sky>
    <a-plane
      src="#dirt"
      position="0 0 -11"
      rotation="-90 0 0"
      width="50"
      height="200"
      repeat="20 80"
    ></a-plane>
    <a-gltf-model 
      position="19.47219 1.52765 -221.94797" 
      src="#gwanghwamun" 
      scale="0.9 0.9 0.9" 
      gltf-model="https://linx.yunkyu.com/selif/gwanghwamun.gltf" 
      visible="" 
      rotation="0 2 0">
    </a-gltf-model>
    <a-entity
    visible="false"
    template="src: #link"
    data-thumb="#thumb-home"
    data-from="joseonMuseum"
    data-to="menu"
    position="0 0.1 0"
    rotation="-90 0 0"
  ></a-entity>
  </a-entity>

      <a-entity id="scene-japanMuseum" visible="false">
        <a-sky color="#b3c4d1"></a-sky>
        <a-plane
          src="#dirt"
          position="0 0 -11"
          rotation="-90 0 0"
          width="150"
          height="150"
          repeat="60 60"
        ></a-plane>
        <a-entity
          visible="false"
          template="src: #link"
          data-thumb="#thumb-home"
          data-from="japanMuseum"
          data-to="menu"
          position="0 0.1 0"
          rotation="-90 0 0"
         ></a-entity>
      </a-entity>
    <a-entity id="scene-modernMuseum" visible="false">
        <a-sky
          id="image-360"
          src="#background"
         radius="150"
          phi-start="90"
        ></a-sky>
        <a-entity
         visible="false"
         template="src: #link"
         data-thumb="#thumb-home"
          data-from="modernMuseum"
          data-to="menu"
          position="0 0.1 0"
          rotation="-90 0 0"
        ></a-entity>
    </a-entity>
    
  <a-entity id="scene-welcome" visible="true">
    <a-sky
      radius="150"
      color="#000000"
    ></a-sky>
    <a-entity text="value: Gwanghwamun: A Virtual Experience; align: center; width: 5;" position="0 1.5 -1.7"></a-entity>
    <a-entity
      visible="true"
      template="src: #link"
      data-thumb="#thumb-1"
      data-from="welcome"
      data-to="menu"
      rotation="330 0 0"
      position="0 0.866 -1.412"
    >
  </a-entity>


    </a-scene>
  </body>
</html>
